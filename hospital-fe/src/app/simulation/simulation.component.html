<mat-expansion-panel (afterCollapse)="hideSummary()"
                     (afterExpand)="showSummary()"
                     *ngIf="simulation"
                     [expanded]="expanded"
                     [@.disabled]="true"
                     [togglePosition]="'before'">
  <mat-expansion-panel-header>
    <div *ngIf="isSummaryDisplayed"
         class="simulation-shortcuts-container">
      <mat-panel-title>
        <app-drug-list [drugs]="simulation.drugs"
                       [isInline]="true"
        ></app-drug-list>
      </mat-panel-title>
      <mat-panel-description>
        <app-state-diff *ngFor="let diff of simulation.patientsStatesDiffs"
                        [diff]="diff">
          {{diff.state}}
        </app-state-diff>
      </mat-panel-description>
    </div>
  </mat-expansion-panel-header>
  <div class="simulation-results-container">
    <app-states-report-table [statesDiffs]="simulation.patientsStatesDiffs"></app-states-report-table>
    <app-drugs-panel [drugs]="simulation.drugs"
                     class="mat-elevation-z8"
    ></app-drugs-panel>
  </div>
</mat-expansion-panel>
